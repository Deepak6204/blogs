<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
	crossorigin="anonymous"></script>
<script>
	async function startChat(profileId, currentUserId) {
		try {
			const response = await fetch("/chat/initiate", {
				method: "POST",
				headers: {
					"Content-Type": "application/json",
				},
				body: JSON.stringify({ profileId, currentUserId }),
			});

			const data = await response.json();
			if (data.success) {
				window.location.href = `/chat/${data.chatId}`;
			} else {
				alert("Failed to start the chat. Please try again.");
			}
		} catch (error) {
			console.error("Error initiating chat:", error);
		}
	}
</script>
